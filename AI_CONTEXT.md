# Своя игра (HTML + Bootstrap 5)

Контекст реализации и согласованные требования.

## Цель

Сделать веб-игру для Zoom: ведущий показывает экран, игроки отвечают вслух, ведущий управляет полем и счетом.

- Контент вопросов/ответов: только текст.
- Механики "Кот в мешке", "Ва-банк", "Аукцион" не используются.
- Финального раунда нет.

---

## Ключевые изменения (актуальная версия)

- Игровое поле визуально `5x5`.
- В таблице:
  - 1-й столбец: категории (5 строк).
  - По горизонтали: 4 стоимости вопроса `200`, `400`, `600`, `800`.
- Игроки: от `1` до `15`, динамически.
- Текущий счет игроков показывается в dropdown-блоке.
- Верхняя часть интерфейса должна быть максимально компактной.

---

## Структура проекта

```text
index.html
assets/
  css/app.css
  js/app.js
  js/data.js
  js/ui.js
  js/score.js
  js/storage.js
data/game.json
plan.md
```

---

## UX-сценарий

1. Ведущий запускает игру через локальный HTTP-сервер.
2. Настраивает состав игроков (1-15) в верхней панели.
3. В dropdown видит текущий список игроков и их счет.
4. Игроки выбирают категорию и стоимость (200/400/600/800).
5. Ведущий открывает вопрос, показывает ответ, фиксирует `Верно` или `Неверно`.
6. Очки выбранного игрока автоматически меняются на стоимость вопроса.
7. Клетка вопроса становится сыгранной и блокируется.

Если для ячейки нет вопроса, ячейка сразу считается сыгранной и недоступной.

---

## Интерфейс

### Компактная верхняя панель

- Короткий заголовок.
- Кнопки управления игроками `+` / `-`.
- Индикатор количества игроков (`текущее/15`).
- Кнопка `Сбросить`.
- Dropdown-блок со счетом и редактируемыми именами.

### Игровое поле

- Таблица `5x5`:
  - 1 столбец: названия категорий.
  - 4 столбца: стоимости `200`, `400`, `600`, `800`.
- Клетки с вопросами выглядят как кнопки.
- Сыгранные клетки становятся неактивными.

### Модальное окно

- Режим `Вопрос`.
- Режим `Ответ`.
- Кнопка `Показать ответ`.
- Кнопки `Верно` и `Неверно`.

---

## Формат `data/game.json`

```json
{
  "title": "Своя игра",
  "values": [200, 400, 600, 800],
  "categories": [
    {
      "id": "cat1",
      "name": "Категория 1",
      "questions": [
        {
          "id": "cat1_200",
          "value": 200,
          "question": "Текст вопроса",
          "answer": "Текст ответа"
        }
      ]
    }
  ]
}
```

Правила валидации:

- `values` содержит ровно 4 значения: `200`, `400`, `600`, `800`.
- `categories` содержит ровно 5 категорий.
- У каждой категории уникальный `id`.
- В каждой категории 4 вопроса, по одному на каждую стоимость.
- У каждого вопроса уникальный `id`.
- `question` и `answer` только текст.

---

## Состояние игры (`localStorage`)

Ключ: `svoyaGame.state`.

```json
{
  "version": 1,
  "players": [
    { "id": "p1", "name": "Игрок 1", "score": 0 }
  ],
  "used": []
}
```

Что хранится:

- `players`: массив игроков (1-15), с `id`, `name`, `score`.
- `used`: массив `id` сыгранных вопросов.

---

## Запуск

Только через локальный HTTP-сервер (для `fetch()`):

- VSCode Live Server
- `python -m http.server`

`file://` запуск не поддерживается.

---

## Чеклист

- [ ] JSON загружается через `fetch()` без ошибок.
- [ ] Рендерится таблица `5x5` (категория + 4 стоимости).
- [ ] Игроки настраиваются в диапазоне `1-15`.
- [ ] Счет отображается в dropdown-блоке.
- [ ] Состояние игроков и сыгранных вопросов сохраняется.
- [ ] Верхняя панель остается компактной на десктопе и мобильных.
